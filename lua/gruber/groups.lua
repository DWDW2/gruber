local M = {}
local colors = require("gruber.palette")

M.setup = function()
  return {
    -- Basic syntax highlighting
    Comment = { fg = colors.comment, italic = true },
    Constant = { fg = colors.yellow },
    String = { fg = colors.green },
    Character = { fg = colors.green },
    Number = { fg = colors.fg },
    Boolean = { fg = colors.fg },
    Float = { fg = colors.fg },
    
    -- Identifiers
    Identifier = { fg = colors.fg },
    Function = { fg = colors.fg },
    
    -- Statements
    Statement = { fg = colors.purple },
    Conditional = { fg = colors.fg },
    Repeat = { fg = colors.fg },
    Label = { fg = colors.purple },
    Operator = { fg = colors.fg },
    Keyword = { fg = colors.fg },
    Exception = { fg = colors.red },
    
    -- Preprocessor
    PreProc = { fg = colors.yellow },
    Include = { fg = colors.yellow },
    Define = { fg = colors.yellow },
    Macro = { fg = colors.yellow },
    PreCondit = { fg = colors.yellow },
    
    -- Types
    Type = { fg = colors.blue },
    StorageClass = { fg = colors.purple },
    Structure = { fg = colors.blue },
    Typedef = { fg = colors.blue },
    
    -- Special
    Special = { fg = colors.red },
    SpecialChar = { fg = colors.red },
    Tag = { fg = colors.blue },
    Delimiter = { fg = colors.fg },
    SpecialComment = { fg = colors.comment },
    Debug = { fg = colors.red },
    
    -- Underlined
    Underlined = { underline = true },
    Ignore = { fg = colors.comment },
    Error = { fg = colors.red, bold = true },
    Todo = { fg = colors.yellow, bold = true },
    
    -- Treesitter groups
    ["@string"] = { fg = colors.green },
    ["@string.regex"] = { fg = colors.red },
    ["@comment"] = { fg = colors.comment, italic = true },
    ["@keyword"] = { fg = colors.purple },
    ["@function"] = { fg = colors.blue },
    ["@function.builtin"] = { fg = colors.blue },
    ["@variable"] = { fg = colors.fg },
    ["@variable.builtin"] = { fg = colors.orange },
    ["@constant"] = { fg = colors.orange },
    ["@constant.builtin"] = { fg = colors.orange },
    ["@type"] = { fg = colors.blue },
    ["@type.builtin"] = { fg = colors.blue },
    ["@parameter"] = { fg = colors.fg },
    ["@field"] = { fg = colors.fg },
    ["@property"] = { fg = colors.fg },
    ["@constructor"] = { fg = colors.blue },
    ["@punctuation.delimiter"] = { fg = colors.fg },
    ["@punctuation.bracket"] = { fg = colors.fg },
    ["@punctuation.special"] = { fg = colors.red },
    ["@operator"] = { fg = colors.fg },
    ["@exception"] = { fg = colors.red },
    ["@namespace"] = { fg = colors.blue },
    ["@module"] = { fg = colors.blue },
    ["@decorator"] = { fg = colors.yellow },
    ["@tag"] = { fg = colors.blue },
    ["@tag.delimiter"] = { fg = colors.fg },
    ["@attribute"] = { fg = colors.yellow },
    ["@text"] = { fg = colors.fg },
    ["@text.strong"] = { fg = colors.fg, bold = true },
    ["@text.emphasis"] = { fg = colors.fg, italic = true },
    ["@text.underline"] = { fg = colors.fg, underline = true },
    ["@text.strike"] = { fg = colors.fg, strikethrough = true },
    ["@text.title"] = { fg = colors.blue, bold = true },
    ["@text.literal"] = { fg = colors.green },
    ["@text.uri"] = { fg = colors.blue, underline = true },
    ["@text.math"] = { fg = colors.blue },
    ["@text.environment"] = { fg = colors.yellow },
    ["@text.environment.name"] = { fg = colors.yellow },
    ["@text.reference"] = { fg = colors.blue },
    ["@text.note"] = { fg = colors.comment },
    ["@text.warning"] = { fg = colors.yellow },
    ["@text.danger"] = { fg = colors.red },
    
    -- LSP groups
    LspReferenceText = { bg = colors.selection },
    LspReferenceRead = { bg = colors.selection },
    LspReferenceWrite = { bg = colors.selection },
    LspCodeLens = { fg = colors.comment },
    LspCodeLensSeparator = { fg = colors.comment },
    LspSignatureActiveParameter = { fg = colors.yellow },
    
    -- Diagnostic groups
    DiagnosticError = { fg = colors.red },
    DiagnosticWarn = { fg = colors.yellow },
    DiagnosticInfo = { fg = colors.blue },
    DiagnosticHint = { fg = colors.green },
    DiagnosticOk = { fg = colors.green },
    DiagnosticVirtualTextError = { fg = colors.red },
    DiagnosticVirtualTextWarn = { fg = colors.yellow },
    DiagnosticVirtualTextInfo = { fg = colors.blue },
    DiagnosticVirtualTextHint = { fg = colors.green },
    DiagnosticUnderlineError = { undercurl = true, sp = colors.red },
    DiagnosticUnderlineWarn = { undercurl = true, sp = colors.yellow },
    DiagnosticUnderlineInfo = { undercurl = true, sp = colors.blue },
    DiagnosticUnderlineHint = { undercurl = true, sp = colors.green },
    
    -- UI groups
    Normal = { fg = colors.fg, bg = colors.bg },
    NormalFloat = { fg = colors.fg, bg = colors.bg },
    NormalNC = { fg = colors.fg, bg = colors.bg },
    Cursor = { fg = colors.bg, bg = colors.fg },
    CursorLine = { bg = colors.cursorline },
    CursorColumn = { bg = colors.cursorline },
    ColorColumn = { bg = colors.cursorline },
    SignColumn = { fg = colors.fg, bg = colors.bg },
    Folded = { fg = colors.comment, bg = colors.cursorline },
    FoldColumn = { fg = colors.comment, bg = colors.bg },
    LineNr = { fg = colors.comment },
    CursorLineNr = { fg = colors.fg, bold = true },
    CursorLineSign = { fg = colors.comment },
    CursorLineFold = { fg = colors.comment },
    DiffAdd = { fg = colors.green },
    DiffChange = { fg = colors.yellow },
    DiffDelete = { fg = colors.red },
    DiffText = { fg = colors.blue },
    IncSearch = { fg = colors.bg, bg = colors.yellow },
    Search = { fg = colors.bg, bg = colors.yellow },
    Substitute = { fg = colors.bg, bg = colors.orange },
    Visual = { bg = colors.selection },
    VisualNOS = { bg = colors.selection },
    WarningMsg = { fg = colors.yellow },
    ErrorMsg = { fg = colors.red },
    ModeMsg = { fg = colors.fg },
    MoreMsg = { fg = colors.green },
    Question = { fg = colors.blue },
    QuickFixLine = { fg = colors.bg, bg = colors.yellow },
    StatusLine = { fg = colors.statusline_fg, bg = colors.statusline_bg },
    StatusLineNC = { fg = colors.comment, bg = colors.statusline_bg },
    TabLine = { fg = colors.comment, bg = colors.statusline_bg },
    TabLineFill = { bg = colors.statusline_bg },
    TabLineSel = { fg = colors.fg, bg = colors.bg },
    VertSplit = { fg = colors.comment },
    WinSeparator = { fg = colors.comment },
    WildMenu = { fg = colors.bg, bg = colors.yellow },
    NonText = { fg = colors.comment },
    SpecialKey = { fg = colors.comment },
    Whitespace = { fg = colors.comment },
    EndOfBuffer = { fg = colors.bg },
    Conceal = { fg = colors.comment },
    SpellBad = { undercurl = true, sp = colors.red },
    SpellCap = { undercurl = true, sp = colors.yellow },
    SpellLocal = { undercurl = true, sp = colors.blue },
    SpellRare = { undercurl = true, sp = colors.purple },
    Pmenu = { fg = colors.fg, bg = colors.statusline_bg },
    PmenuSel = { fg = colors.bg, bg = colors.blue },
    PmenuSbar = { bg = colors.statusline_bg },
    PmenuThumb = { bg = colors.comment },
    PmenuKind = { fg = colors.blue },
    PmenuKindSel = { fg = colors.blue },
    PmenuExtra = { fg = colors.comment },
    PmenuExtraSel = { fg = colors.comment },
    PmenuMenu = { fg = colors.comment },
    PmenuMenuSel = { fg = colors.comment },
  }
end

return M